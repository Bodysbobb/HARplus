<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Enhanced Processing of GEMPACK .HAR and .SL4 Files • HARplus</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Enhanced Processing of GEMPACK .HAR and .SL4 Files">
<meta property="og:description" content="HARplus is an advanced package for processing GEMPACK `.HAR` and `.SL4` files, designed to streamline large-scale economic modeling workflows. It extends beyond traditional `.HAR` readers by offering efficient data extraction, structured metadata management, and flexible data transformations. The package supports multi-file analysis, subtotal level handling, dimension renaming, and optimized memory usage to ensure seamless handling of complex datasets. Unlike standard `.HAR` readers, HARplus enables advanced manipulations such as pivoting, renaming dimensions, exporting to multiple formats, and cross-comparing structured data across different sources. The package is fully independent and does not require the HARr package.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">HARplus</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/introduction.html">Enhanced Processing of GEMPACK .HAR and .SL4 Files</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/bodysbobb/HARplus/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="harplus-enhanced-processing-of-gempack-har-and-sl4-files">HARplus: Enhanced Processing of GEMPACK <code>.HAR</code> and <code>.SL4</code> Files<a class="anchor" aria-label="anchor" href="#harplus-enhanced-processing-of-gempack-har-and-sl4-files"></a>
</h1></div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>HARplus provides an efficient way to handle <code>.HAR</code> and <code>.SL4</code> files, especially when working with multiple input files. It helps extract, structure, and transform data while maintaining flexibility and consistency across datasets.</p>
</div>
<div class="section level2">
<h2 id="key-features">Key Features<a class="anchor" aria-label="anchor" href="#key-features"></a>
</h2>
<ul>
<li>
<strong>Efficient Data Extraction</strong> – Supports selective header loading and optimized memory usage for handling large <code>.HAR</code> and <code>.SL4</code> files.<br>
</li>
<li>
<strong>Flexible Data Structuring</strong> – Extract variables by name or dimension patterns while ensuring consistency across multiple inputs.<br>
</li>
<li>
<strong>Customizable Aggregation &amp; Merging</strong> – Manage subtotals, merge datasets, and structure data dynamically.<br>
</li>
<li>
<strong>Multiple Export Options</strong> – Output extracted data in CSV, Stata, RDS, and Excel formats with structured formatting.<br>
</li>
<li>
<strong>Designed for GEMPACK</strong> – Ensures smooth integration with <code>.HAR</code> and <code>.SL4</code> files while offering additional flexibility.<br>
</li>
<li>
<strong>Ideal for GTAP Model Users</strong> – Built specifically to process and analyze GTAP model results efficiently.</li>
</ul>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>HARplus is currently under <strong>CRAN review</strong> and will be available there soon. In the meantime, install it directly from GitHub using the following command:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"Bodysbobb/HARplus"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="how-it-works">How It Works<a class="anchor" aria-label="anchor" href="#how-it-works"></a>
</h2>
<p>HARplus simplifies <code>.HAR</code> and <code>.SL4</code> file processing. You can: - Load files and selectively extract headers. - Extract data by variable name or dimension patterns. - Group, merge, and restructure data with ease. - Pivot and export data into structured formats. - Filter subtotals and rename dimensions for clarity.</p>
</div>
<div class="section level2">
<h2 id="quick-guide-to-harplus">Quick Guide to HARplus<a class="anchor" aria-label="anchor" href="#quick-guide-to-harplus"></a>
</h2>
<p>Below is a categorized reference of the main functions in HARplus.</p>
<div class="section level3">
<h3 id="data-importing">Data Importing<a class="anchor" aria-label="anchor" href="#data-importing"></a>
</h3>
<ul>
<li>
<strong><code><a href="reference/load_harx.html">load_harx()</a></code></strong> – Loads <code>.HAR</code> files with selective header extraction and structured metadata.<br>
</li>
<li>
<strong><code><a href="reference/load_sl4x.html">load_sl4x()</a></code></strong> – Loads <code>.SL4</code> files, extracting variable names and dimension structures.</li>
</ul>
</div>
<div class="section level3">
<h3 id="data-extraction">Data Extraction<a class="anchor" aria-label="anchor" href="#data-extraction"></a>
</h3>
<ul>
<li>
<strong><code><a href="reference/get_data_by_var.html">get_data_by_var()</a></code></strong> – Extracts specific variables from <code>.HAR</code> or <code>.SL4</code> datasets, supporting subtotal filtering and merging.<br>
</li>
<li>
<strong><code><a href="reference/get_data_by_dims.html">get_data_by_dims()</a></code></strong> – Extracts data based on dimension patterns, with options for merging and subtotal filtering.</li>
</ul>
</div>
<div class="section level3">
<h3 id="data-structure-summary--comparison">Data Structure Summary &amp; Comparison<a class="anchor" aria-label="anchor" href="#data-structure-summary--comparison"></a>
</h3>
<ul>
<li>
<strong><code><a href="reference/get_dim_elements.html">get_dim_elements()</a></code></strong> – Lists unique dimension elements (e.g., <code>REG</code>, <code>COMM</code>).<br>
</li>
<li>
<strong><code><a href="reference/get_dim_patterns.html">get_dim_patterns()</a></code></strong> – Extracts unique dimension structures (e.g., <code>REG*COMM*ACTS</code>).<br>
</li>
<li>
<strong><code><a href="reference/get_var_structure.html">get_var_structure()</a></code></strong> – Summarizes variable names, dimensions, and data structure.<br>
</li>
<li>
<strong><code><a href="reference/compare_var_structure.html">compare_var_structure()</a></code></strong> – Compares variable structures across multiple datasets for compatibility.</li>
</ul>
</div>
<div class="section level3">
<h3 id="data-grouping--processing">Data Grouping &amp; Processing<a class="anchor" aria-label="anchor" href="#data-grouping--processing"></a>
</h3>
<ul>
<li>
<strong><code><a href="reference/group_data_by_dims.html">group_data_by_dims()</a></code></strong> – Groups extracted data by dimension priority, with support for automatic renaming and subtotal handling.<br>
</li>
<li>
<strong><code><a href="reference/rename_dims.html">rename_dims()</a></code></strong> – Renames dimension names for consistency.</li>
</ul>
</div>
<div class="section level3">
<h3 id="data-transformation">Data Transformation<a class="anchor" aria-label="anchor" href="#data-transformation"></a>
</h3>
<ul>
<li>
<strong><code><a href="reference/pivot_data.html">pivot_data()</a></code></strong> – Converts long-format data into wide format.<br>
</li>
<li>
<strong><code><a href="reference/pivot_data_hierarchy.html">pivot_data_hierarchy()</a></code></strong> – Creates hierarchical pivot tables for structured reporting.</li>
</ul>
</div>
<div class="section level3">
<h3 id="data-export">Data Export<a class="anchor" aria-label="anchor" href="#data-export"></a>
</h3>
<ul>
<li>
<strong><code><a href="reference/export_data.html">export_data()</a></code></strong> – Exports extracted data to CSV, Stata, TXT, RDS, or XLSX, with support for multi-sheet exports.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="package-manual">Package Manual<a class="anchor" aria-label="anchor" href="#package-manual"></a>
</h2>
<p>All commands in this package have several options that allow users to play around with the data more freely and efficiently, not just import and get the data. For a complete guide on HARplus functions, check out the <strong><a href="inst/docs/HARplus_1.0.0.pdf">HARplus Package Manual</a></strong> and <strong><a href="https://rpubs.com/Bodysbob/1273998" class="external-link">Vignette</a></strong></p>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>HARplus is released under the <strong>MIT License</strong>. See the full license <a href="LICENSE">here</a>.</p>
</div>
<div class="section level2">
<h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a>
</h2>
<p><strong>Pattawee Puangchit</strong><br>
Ph.D. Candidate, Agricultural Economics<br>
Purdue University<br>
Research Assistant at GTAP</p>
</div>
<div class="section level2">
<h2 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h2>
<p>Acknowledgement is due to <strong>Maros Ivanic</strong> for his work on the <code>HARr</code> package, which served as the foundation for HARplus. This package would not have been possible without his contributions.</p>
</div>
<div class="section level2">
<h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a>
</h2>
<p>Sample data used in this <a href="https://rpubs.com/Bodysbob/1273998" class="external-link">vignette</a> is obtained from the GTAPv7 model and utilizes publicly available data from the <a href="https://www.gtap.agecon.purdue.edu/databases/archives.asp" class="external-link">GTAP 9 database</a>. For more details about the GTAP database and model, refer to the <strong><a href="https://www.gtap.agecon.purdue.edu/" class="external-link">GTAP Database</a></strong>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/bodysbobb/HARplus/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/bodysbobb/HARplus/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing HARplus</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Pattawee Puangchit <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Pattawee Puangchit.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
