% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_data.R
\name{group_by_dims_element}
\alias{group_by_dims_element}
\title{Group Data by Dimension Elements}
\usage{
group_by_dims_element(
  patterns = "ALL",
  ...,
  priority,
  rename_cols = NULL,
  experiment_names = NULL,
  drop_subtotals = FALSE,
  auto_rename = FALSE
)
}
\arguments{
\item{patterns}{A character vector of dimension patterns to extract. Use \code{"ALL"} to extract all available patterns.}

\item{...}{One or more SL4 or HAR objects to process.}

\item{priority}{A named list specifying priority dimension elements. Keys represent group names, and values are dimension elements.}

\item{rename_cols}{A named vector specifying column name replacements (e.g., \code{c("old" = "new")}).}

\item{experiment_names}{An optional character vector providing names for each input dataset.}

\item{drop_subtotals}{Logical; if \code{TRUE}, subtotal rows (with \code{Subtotal == "TOTAL"}) are removed.}

\item{auto_rename}{Logical; if \code{TRUE}, automatically renames dimension columns when merging datasets to ensure consistency.}
}
\value{
A structured list of grouped data frames based on dimension patterns.
If merging is unsuccessful, a report detailing merge issues is included as an attribute.
}
\description{
Groups data extracted from SL4 or HAR objects based on dimension patterns,
applying priority rules and renaming columns as needed. Supports automatic merging
of datasets when applicable.
}
\details{
The function extracts data based on dimension patterns, groups datasets by dimension elements,
and attempts to merge them where applicable. It follows priority rules to group dimensions logically
and applies renaming where necessary.
\itemize{
\item If \code{auto_rename = TRUE}, column names are adjusted to facilitate merging.
\item If \code{drop_subtotals = TRUE}, subtotal rows labeled \code{"TOTAL"} are excluded.
\item The function checks for duplicate elements in dimension patterns and ensures compatibility before merging.
}

If merging is not possible due to structural differences, the function returns a report explaining
why certain patterns could not be merged.
}
\examples{
# Load SL4 and HAR Data
sl4_data1 <- read_sl4x("path/to/file1.sl4")
sl4_data2 <- read_sl4x("path/to/file2.sl4")

# Define priority dimension elements
priority_list <- list(
  "Region" = c("REG"),
  "Commodity" = c("COMM"),
  "Factor" = c("ENDW")
)

# Group data by dimension elements with default settings
grouped_data <- group_by_dims_element(
  patterns = "ALL",
  sl4_data1, sl4_data2,
  priority = priority_list
)

# Group data and auto-rename columns for merging
grouped_data_auto <- group_by_dims_element(
  patterns = "ALL",
  sl4_data1, sl4_data2,
  priority = priority_list,
  auto_rename = TRUE
)

# Drop subtotal rows and rename columns during grouping
grouped_data_clean <- group_by_dims_element(
  patterns = "ALL",
  sl4_data1, sl4_data2,
  priority = priority_list,
  drop_subtotals = TRUE,
  rename_cols = c("REG" = "Region", "COMM" = "Commodity")
)

}
